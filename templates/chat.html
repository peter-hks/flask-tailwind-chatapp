{% extends "layout.html" %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link href="../static/css/main.css" rel="stylesheet" />
    <title>Upload Document</title>
  </head>
  <style>
    .fa-solid {
      display: flex;
      flex-wrap: wrap;
      align-content: center;
    }
  </style>
  {% block content %}
  <div class="bg-white md:rounded-3xl h-full">
    <!-- Top Section -->
    <div
      class="md:flex hidden border-b-2 border-gray-200 flex-row justify-between py-2 pr-6"
    >
      <div class="text-2xl font-semibold p-3 pl-6">AgentAI</div>
      <div class="flex flex-row items-center">
        <div class="flex bg-gray-200 rounded-lg m-2 h-fit align-middle">
          <!-- Search Box -->
          <form class="relative flex flex-1" action="#" method="GET">
            <label for="search-field" class="sr-only">Search</label>
            <i class="fa-solid fa-magnifying-glass px-3"></i>
            <input
              id="search-field"
              class="block h-full w-full border-0 pl-2 py-2 pr-0 text-sm bg-transparent text-gray-900 placeholder:text-gray-500 focus:ring-0 sm:text-sm"
              placeholder="Search"
              type="search"
              name="search"
            />
          </form>
        </div>
        <div
          class="flex border-gray-200 border-2 border-solid m-2 rounded-md align-middle h-fit"
        >
          <i class="fa-regular fa-bell py-2 px-3 self-center"></i>
        </div>
      </div>
    </div>
    <!-- <div class="h-full"> -->
    {% include 'chatbar.html' %}
    <div class="overflow-y-auto" id="chatlog">
      <!-- create for loop here for all messages to insert chat bubble per message in history
                      if user -> prompt in messages
                      else ai -> answer in messages -->
      {% for prompt, answer in updatedhistory %} {% if prompt != '' %} {%
      include 'chat-bubble-user.html' %} {% endif %} {% if answer != '' %} {%
      include 'chat-bubble-ai.html' %} {% endif %} {% endfor %}
    </div>
    <!-- </div> -->
  </div>
  <script src="{{ url_for('static', filename='js/chatSearch.js') }}"></script>
  {% endblock %}
</html>
